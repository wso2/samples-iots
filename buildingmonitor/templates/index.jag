<!DOCTYPE html>
<html lang="en">

<%
var contextPath = request.getContextPath();
var constants = require("/utils/constants.js").constants;
var user = session.get(constants.USER_CACHE_KEY);

new Log().info(dest);
%>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Building Map</title>
    <link href="libs/theme-wso2_2.0.0/images/favicon.png" rel="icon" type="image/png" sizes="16x16"/>
    <!-- WSO2 Theme -->
    <link href="libs/theme-wso2_2.0.0/css/theme-wso2.css" rel="stylesheet" type="text/css"/>

    <!-- Font WSO2 CSS -->
    <link href="libs/font-wso2-1.2.1/css/font-wso2.min.css" rel="stylesheet" type="text/css"/>

    <!--fontawesome-->
    <link href="libs/font-awesome-4.7.0/css/font-awesome.min.css" rel="stylesheet">

    <!--leaflet-->
    <link rel="stylesheet" href="css/leaflet.css"/>
    <link rel="stylesheet" href="css/leaflet-sidebar.min.css"/>

    <link href="libs/bootstrap3-editable/css/bootstrap-editable.css" rel="stylesheet">
    <link href="css/custom.css" rel="stylesheet" type="text/css"/>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body class="sticky-footer fixed">

<!-- header -->
<header class="header header-default">
    <div class="container-fluid">
        <div class="pull-left brand">
            <a href="#">
                <img src="libs/theme-wso2_2.0.0/images/logo-inverse.svg" alt="wso2" title="wso2" class="logo">
                <span>IoT Server Floorplan Tool</span>
            </a>
        </div>
         <ul class="nav navbar-right float-remove-xs hidden-xs">
            <li class="visible-inline-block">
                <a class="dropdown" data-toggle="dropdown">
                    <span class="icon fw-stack fw-lg">
                       <i class="fw fw-circle fw-stack-2x"></i>
                       <i class="fw fw-user fw-stack-1x fw-inverse"></i>
                    </span>
                    <span><%=user.username%><span class="caret"></span></span>
                </a>
                <ul class="dropdown-menu dropdown-menu-right float-remove-xs position-static-xs text-center-xs remove-margin-xs slideInDown" role="menu">
                 <li><a href="<%=urlPrefix%>logout?destination=<%=dest%>"><i class="icon fw
                 fw-sign-out"></i>log-out</a></li>
                </ul>
            </li>
        </ul>

    </div>
</header>
<!-- /header -->

<!-- navbar -->
<div class="navbar-wrapper">
    <nav class="navbar navbar-default">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <div class="navbar-brand">
                    <a href="#">Geographic View</a>
                </div>
            </div>
            <div id="navbar" class="collapse navbar-collapse">
                <ul class="nav navbar-nav">
                    <li>
                        <a id="happy" href="#" onclick="onAddMarker()" title="Add a building">
                                <span class="icon fw-stack">
                                    <i class="fw fw-add fw-h
                                    elper fw-helper-circle-outline"></i>
                                </span>
                            Add Building
                        </a>
                    </li>
                </ul>
            </div><!--/.nav-collapse -->
        </div>
    </nav>
</div>
<!-- /navbar -->


<div class="page-content-wrapper">

    <div id="sidebar" class="sidebar collapsed">
        <!-- Nav tabs -->
        <div class="sidebar-tabs">
            <ul role="tablist">
                <li id = "building"><a href="#home" role="tab" title="View buildings"><i class="fw
                fw-enterprise"></i></a></li>
                <!--<li><a href="#info" role="tab"><i class="fa fa-info-circle"></i></a></li>-->
                <li class="disabled"><a href="#messages" role="tab"><i class="fa fa-envelope"></i></a></li>
            </ul>

        </div>

        <!-- Tab panes -->
        <div class="sidebar-content">
            <div class="sidebar-pane" id="home">
                <h1 class="sidebar-header">
                    Buildings
                    <span class="sidebar-close"><i class="fa fa-caret-right"></i></span>
                </h1>
            </div>
            <div class="sidebar-pane" id="messages">
                <h1 class="sidebar-header">Messages<span class="sidebar-close"><i class="fa fa-caret-right"></i></span>
                </h1>
            </div>
        </div>
    </div>
    <div id="openStreetMapId" style="height:100%"></div>

</div>

<footer class="footer">
    <div class="container-fluid">
        <p>WSO2 <span class="hidden-xs">IoT Server Floorplan Tool</span> | &copy;
            <script>document.write(new Date().getFullYear());</script>
            <a href="http://wso2.com/" target="_blank"><i class="icon fw fw-wso2"></i> Inc <%= contextPath%>
</a>.
        </p>
    </div>
</footer>

<!-- jQuery (necessary for Bootstrap and WSO2 Theme JavaScript plugins) -->
<script src="libs/jquery_1.11.0/jquery-1.11.3.min.js"></script>
<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="libs/bootstrap_3.3.6/js/bootstrap.min.js"></script>
<script src="libs/theme-wso2_2.0.0/js/theme-wso2.min.js"></script>

<!--sidebar js-->
<script src="js/leaflet.js"></script>
<script src="js/leaflet-sidebar.min.js"></script>
<script src="js/jquery-sidebar.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.15.1/jquery.validate.min.js"></script>

<!--custom script file-->
<script src="js/map-component.js"></script>
<script src="js/createJSON.js"></script>


</body>
</html>